<div class="flex items-center justify-center min-h-screen">
  <div class="Container w-full max-w-5xl px-8 mx-auto mt-16">

    <div class="HeaderContainer mb-8">
     <h1 class="ContainerHeaderText">Companies</h1>
    </div>
    <div class="flex justify-between items-center">
      <%= link_to "New company", new_company_path, class: "rounded-lg py-3 px-5 bg-blue-600 text-white block font-medium" %>
    </div>

    <div id="companies" class="min-w-full">
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Range</th>
            <th>Phone Number</th>
            <th>Site</th>
            <th>Main Contacts</th>
          </tr>
        </thead>
        <tbody>
          <% @companies.each do |company| %>
            <tr>
              <td><%= company.name %></td>
              <td><%= company.employers_max %> - <%= company.employers_min %></td>
              <td><%= company.phone_number %></td>
              <td><%= company.url_site %></td>
              <td><%= company.personcompanies.select { |pc| pc.is_my_contact && (!pc.person.is_private || pc.person.user == current_user) }.map { |pc| pc.person.name } %></td>
              <td><%= link_to "Show this company", company, class: "ml-2 rounded-lg py-3 px-5 bg-gray-100 inline-block font-medium" %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>