<%= form_with url: calendars_path, method: :get, local: true, id: "calendar_filter_form" do %>
  <div class="flex flex-row w-full"> <!-- Ensure flex-row is here to make items horizontal -->
    <% @calendars.each do |calendar| %>
      <div class="flex-grow items-center space-x-2"> <!-- Flex and space-x-2 for label and checkbox alignment -->
        <%= label_tag "calendar_ids_#{calendar.id}", calendar.name, class: "mr-2" %>
        <%= check_box_tag "calendar_ids[]", calendar.id, params[:calendar_ids]&.include?(calendar.id.to_s) || params[:calendar_ids].nil? %>
      </div>
    <% end %>
  </div>
  <%= hidden_field_tag :start_date, @start_date %>
<% end %>